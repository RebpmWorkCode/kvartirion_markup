[
    {
        "Region": {
            "title": "Twig AJAX | Список избранного",
            "alias": "ajax_twig_favorites_index",
            "block_count": 1
        },
        "Block": [
            {
                "title": "Twig Ajax | Список избранного",
                "alias": "ajax_twig_favorites_index",
                "body": "{% set adView = _view.loadHelper('Agency.AdView') %}\r\n{% set imageResized = _view.loadHelper('ImageCompress.ImageResized') %}\r\n{% set adSeo = _view.loadHelper('Agency.AdSeo') %}\r\n{% set price = _view.loadHelper('Agency.Price') %}\r\n{% set rusTime = _view.loadHelper('Fastadmin.RusTime') %}\r\n{% set favorite = _view.loadHelper('Favorites.Favorite') %}\r\n{% set complexCategory = _view.loadHelper('ComplexCategories.ComplexCategory') %}\r\n{{ adView.setDefaults({default_picture: config.Site.no_photo_image}) }}\r\n{% for item in list %}\r\n    {% set offerItem = adView.getInfo(item) %}\r\n    <div class=\"cards__item cards__item--mod-large\">\r\n        <div class=\"cards__item-section\">\r\n            <div class=\"cards__item-top cards__item-top--mod\">\r\n                <div class=\"heading-base heading-base--medium\">Избранное<\/div>\r\n                <div>\r\n                    {% set favoriteActiveClass = '' %}\r\n                    {% set favoriteAction = 'add' %}\r\n                    {% if favorite.has('Advertisement', item.Advertisement.id) %}\r\n                        {% set favoriteActiveClass = ' active' %}\r\n                        {% set favoriteAction = 'remove' %}\r\n                    {% endif %}\r\n                    {{ html.link(html.tag('span', '', {'class': 'icon-heart_white'}), '#', {\r\n                        'class': 'favorites-action in-favorites-action btn btn-card' ~ favoriteActiveClass,\r\n                        'escape': false,\r\n                        'data-model': 'Advertisement',\r\n                        'data-id': item.Advertisement.id,\r\n                        'data-action': favoriteAction\r\n                    }) }}\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"cards__item-gallery\">\r\n                {% set galleryList = adView.getGallery(item)['items'] %}\r\n                {% set galleryList = imageResized.resizePicture(galleryList, {'width': '325', 'height': '275', 'mode': 'fit', 'paddings': false, 'folder': 'twig_fit_realty_list'}) %}\r\n                {% for galleryItem in galleryList %}\r\n                    <div><img src=\"{{ galleryItem.src }}\" alt=\"{{ galleryItem.description }}\"><\/div>\r\n                {% endfor %}\r\n            <\/div>\r\n            <div class=\"cards__item-desc\">\r\n                <div class=\"row\">\r\n                    <div class=\"col col-12 col-md-6\">\r\n                        <div class=\"cards__item-info\">\r\n                            <strong class=\"content_block\" title=\"{{ adSeo.pattern_title(item)|e }}\">{{ adSeo.pattern_title(item)|e }}<\/strong>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <div class=\"col col-12 col-md-6\">\r\n                        <div class=\"price\"><span class=\"price__main\">{{ price.format(item.Advertisement.price) }} <\/span><span class=\"price__currency\">₽<\/span><\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"cards__item-info row\">\r\n                    <div class=\"col col-12 col-md-6\">{{ item.Advertisement.location_full|e }}<\/div>\r\n                    <div class=\"col col-12 col-md-6 price\"><span class=\"price__main\">{{ price.format(item.Advertisement.price_area) }} <\/span><span class=\"price__currency\">₽<\/span><span class=\"price__footage\"> м²<\/span><\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"cards__item-details\">\r\n            <div class=\"card-informers\">\r\n                {% set paramsValues = item.CategoryParamValues ?? [] %}\r\n                {% set floor = complexCategory.getViewAliasesOptions('floor', paramsValues) %}\r\n                {% set floors = complexCategory.getViewAliasesOptions('floors', paramsValues) %}\r\n                {% set roomsNum = complexCategory.getViewAliasesOptions('rooms_num', paramsValues) %}\r\n                {% set area = complexCategory.getViewAliasesOptions('area', paramsValues) %}\r\n                <div class=\"card-informers__item\"><span class=\"icon-stages_white card-informers__item-icon\"><\/span><span>Этаж\r\n                                    <strong>{{ floor }}\/{{ floors }}<\/strong><\/span><\/div>\r\n                <div class=\"card-informers__item\"><span class=\"icon-bed_white card-informers__item-icon\"><\/span><span>\r\n                                    <strong>{{ roomsNum }}<\/strong> комнаты<\/span><\/div>\r\n                <div class=\"card-informers__item\"><span class=\"icon-house_white card-informers__item-icon\"><\/span><span>\r\n                                    <strong>{{ area }}<\/strong>м²<\/span><\/div>\r\n            <\/div>\r\n            <div class=\"cards__item-details-btn\">\r\n                <a class=\"btn btn-default btn-default--medium\" href=\"\/favorites\">Перейти в избранное <\/a>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n\r\n{% endfor %}\r\n",
                "status": true,
                "params": "disabledCkEditor=1",
                "show_title": false
            }
        ]
    }
]