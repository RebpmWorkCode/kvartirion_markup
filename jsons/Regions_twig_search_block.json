[
    {
        "Region": {
            "id": "72",
            "title": "Twig | Фильтр",
            "alias": "twig_search_block",
            "description": null,
            "block_count": "1"
        },
        "Block": [
            {
                "id": "77",
                "region_id": "72",
                "title": "Twig | Фильтр",
                "alias": "twig_search_block",
                "body": "{{ form.create('Advertisement', {'url': {'plugin' : 'agency','controller' : 'realty', 'action' : 'index'}, 'class': 'search-block'}) }}\r\n    <div class=\"container\">\r\n        {% set filterTitle = 'Заглушка' %}\r\n        <div class=\"heading-base text-right search-block__heading\">{{ filterTitle }}<\/div>\r\n        <div class=\"filter\">\r\n            <ul class=\"filter__tabs\"><li class=\"active\"><a href=\"#\">Купить<\/a><\/li><li><a href=\"#create_object\" data-fancybox>Продать<\/a><\/li><\/ul>\r\n            <div class=\"filter__main\">\r\n                <div class=\"filter__main-section filter__main-section--type\">\r\n                    <div class=\"filter__main-select\">\r\n                        <div class=\"filter__main-select-title\">{{ categories[categoryId] ?? 'Не выбрано' }}<\/div>\r\n                        <span class=\"icon-expand-down_blue\"><\/span>\r\n                    <\/div>\r\n                    <div class=\"filter__modal\">\r\n                        {{ form.hidden('Advertisement.category_id') }}\r\n                        <ul class=\"list-flats\">\r\n                            {% for categoryId, categoryName in categories %}\r\n                                <li>{{ html.link(categoryName, '#', {'class': 'list-flats__text', 'data-category-id': categoryId}) }}<\/li>\r\n                            {% endfor %}\r\n                        <\/ul>\r\n                    <\/div>\r\n                <\/div>\r\n                {% set complexCategorySearch = _view.loadHelper('ComplexCategories.ComplexCategorySearch') %}\r\n\r\n                <div class=\"filter__main-section filter__main-section--rooms {{ complexCategorySearch.getClassesFilter(null, searchFields.rooms_num)|join(' ')|replace({'input ': ''}) }}\">\r\n                    <div class=\"filter__main-select\">\r\n                        <div class=\"filter__main-select-title\">Комнат<\/div><span class=\"icon-expand-down_blue\"><\/span>\r\n                    <\/div>\r\n                    <div class=\"filter__modal\">\r\n                        {% set roomsCheckbox = rooms|map((name, value) => {'name': name, 'value': value, 'hidden': true}) %}\r\n                        {{ form.input('Advertisement.rooms_num', {\r\n                            'type': 'select',\r\n                            'multiple': 'checkbox',\r\n                            'label': false,\r\n                            'div': false,\r\n                            'hiddenField': false,\r\n                            'options': roomsCheckbox,\r\n                            'class': 'checkbox-filter',\r\n                        }) }}\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"filter__main-section filter__main-section--price\">\r\n                    <div class=\"filter__main-select\">\r\n                        <div class=\"filter__main-select-title\">Цена<\/div><span class=\"icon-expand-down_blue\"><\/span>\r\n                    <\/div>\r\n                    <div class=\"filter__modal\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col col-6\">\r\n                                <div class=\"input-wrap\">\r\n                                    {{ form.input('Advertisement.price_from', {\r\n                                        'type': 'text',\r\n                                        'div': false,\r\n                                        'label': false,\r\n                                        'placeholder': 'от',\r\n                                        'class': 'input-filter price_mask'\r\n                                    }) }}\r\n                                    <span class=\"input-wrap__cur\">₽<\/span>\r\n                                <\/div>\r\n                            <\/div>\r\n                            <div class=\"col col-6\">\r\n                                <div class=\"input-wrap\">\r\n                                    {{ form.input('Advertisement.price_to', {\r\n                                        'type': 'text',\r\n                                        'div': false,\r\n                                        'label': false,\r\n                                        'placeholder': 'до',\r\n                                        'class': 'input-filter price_mask'\r\n                                    }) }}\r\n                                    <span class=\"input-wrap__cur\">₽<\/span>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"filter__main-section filter__main-section--enter\">\r\n                    {{ form.input('Advertisement.search', {\r\n                        'type': 'textarea',\r\n                        'placeholder': 'Адрес или ЖК',\r\n                        'div': 'textarea-wrapper',\r\n                        'rows': false,\r\n                        'cols': false,\r\n                        'class': 'textarea-enter',\r\n                        'label': false\r\n                    }) }}\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"filter__btn-more\">\r\n                <a class=\"js-btn-window\" href=\"#popup-parametrs\">Больше параметров<\/a>\r\n            <\/div>\r\n            <div class=\"filter__bar\">\r\n                <div class=\"filter__bar-btn\">\r\n                    {{ form.button(html.tag('span', '', {'class': 'icon icon-location-place_white'}) ~ 'на карте', {'class': 'btn btn-default btn-default--mini btn-default--show-map', 'type': 'submit', 'formaction': '\/agency\/realty\/map'}) }}\r\n                <\/div>\r\n                <div class=\"filter__bar-btn\">\r\n                    {{ form.button(html.tag('span', '', {'class': 'icon icon-loop_blue'}) ~ 'Найти', {'class': 'btn btn-default btn-default--mini btn-default--dark', 'type': 'submit'}) }}\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"popup-parametrs js-window\" id=\"popup-parametrs\">\r\n        <div class=\"heading-base heading-base--medium\">Больше параметров<\/div>\r\n        {% for searchFieldAlias, searchFieldItem in searchFields %}\r\n            {% if searchFieldAlias not in ['Advertisement.category_id','Advertisement.country_id','Advertisement.location_region_id','Advertisement.district_id','Advertisement.locality_id','Advertisement.sub_locality_id','Advertisement.micro_district_id','Advertisement.street_id','Advertisement.metro_id','Advertisement.house','Advertisement.rent','Advertisement.term_rent_id','Advertisement.price','Advertisement.id','Advertisement.show_in_hot','Advertisement.exclusive','Advertisement.polygon','Advertisement.currency_id','Advertisement.search','Advertisement.reservation','rooms_num'] %}\r\n                <div class=\"row popup-parametrs__row {{ complexCategorySearch.getClassesFilter(null, searchFieldItem)|join(' ')|replace({'input ': ''}) }}\">\r\n                    <div class=\"col-md-5 popup-parametrs__title\">{{ searchFieldItem.label }}<\/div>\r\n                    <div class=\"col-md-7\">\r\n                        {% if attribute(searchFieldItem, 'param-type') == -1 %}\r\n                            <div class=\"row popup-parametrs__inputs-row\">\r\n                                <div class=\"col col-12\">\r\n                                    <label class=\"btn-check\">\r\n                                        {{ form.checkbox('Advertisement.' ~ attribute(searchFieldItem, 'param-id'), {\r\n                                            'hidden': true,\r\n                                            'div': false,\r\n                                            'label': false,\r\n                                            'hiddenField': false,\r\n                                        }) }}\r\n                                        <span class=\"btn-check__icon\"><span class=\"icon icon-check\"><\/span><\/span>\r\n                                        <span class=\"btn-check__text\">Да<\/span>\r\n                                    <\/label>\r\n                                <\/div>\r\n                            <\/div>\r\n                        {% endif %}\r\n                        {% if attribute(searchFieldItem, 'param-type') == 0 %}\r\n                            <div class=\"row popup-parametrs__inputs-row\">\r\n                                <div class=\"col col-6\">\r\n                                    <div class=\"input-wrap input-wrap--medium\">\r\n                                        {{ form.input('Advertisement.' ~ searchFieldItem.alias ~ '_from', {\r\n                                            'type': 'text',\r\n                                            'div': false,\r\n                                            'label': false,\r\n                                            'class': 'input-filter',\r\n                                            'placeholder': 'от',\r\n                                        }) }}\r\n                                        {% if searchFieldItem.alias in ['area', 'live_area', 'kitchen_area'] %}\r\n                                            <div class=\"input-wrap__cur\">м²<\/div>\r\n                                        {% endif %}\r\n                                        {% if searchFieldItem.alias in ['site_area'] %}\r\n                                            <div class=\"input-wrap__cur\">сот<\/div>\r\n                                        {% endif %}\r\n                                    <\/div>\r\n                                <\/div>\r\n                                <div class=\"col col-6\">\r\n                                    <div class=\"input-wrap input-wrap--medium\">\r\n                                        {{ form.input('Advertisement.' ~ searchFieldItem.alias ~ '_to', {\r\n                                            'type': 'text',\r\n                                            'div': false,\r\n                                            'label': false,\r\n                                            'class': 'input-filter',\r\n                                            'placeholder': 'до',\r\n                                        }) }}\r\n                                        {% if searchFieldItem.alias in ['area', 'live_area', 'kitchen_area'] %}\r\n                                            <div class=\"input-wrap__cur\">м²<\/div>\r\n                                        {% endif %}\r\n                                        {% if searchFieldItem.alias in ['site_area'] %}\r\n                                            <div class=\"input-wrap__cur\">сот<\/div>\r\n                                        {% endif %}\r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                        {% endif %}\r\n                        {% if attribute(searchFieldItem, 'param-type') == 1 %}\r\n                            <div class=\"row popup-parametrs__inputs-row\">\r\n                                <div class=\"col col-12\">\r\n                                    <div class=\"input-wrap input-wrap--medium\">\r\n                                        {{ form.input('Advertisement.' ~ searchFieldItem.alias, {\r\n                                            'type': 'text',\r\n                                            'div': false,\r\n                                            'label': false,\r\n                                            'class': 'input-filter',\r\n                                        }) }}\r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                        {% endif %}\r\n                        {% if attribute(searchFieldItem, 'param-type') == 2 %}\r\n                            <ul class=\"sorting__list\">\r\n                                {% for id, title in _view.get(attribute(searchFieldItem, 'data-options')) %}\r\n                                    <li>\r\n                                        <label class=\"btn-check\">\r\n                                            {{ form.checkbox('Advertisement.' ~ searchFieldItem.alias ~'.', {\r\n                                                'hidden': true,\r\n                                                'div': false,\r\n                                                'value': id,\r\n                                                'id': form.domId('Advertisement.' ~ searchFieldItem.alias) ~ form.domIdSuffix(id, 'html5'),\r\n                                                'checked': id in _view.request.query(searchFieldItem.alias),\r\n                                                'label': false,\r\n                                                'hiddenField': false,\r\n                                            }) }}\r\n                                            <span class=\"btn-check__icon\"><span class=\"icon icon-check\"><\/span><\/span>\r\n                                            <span class=\"btn-check__text\">{{ title }}<\/span>\r\n                                        <\/label>\r\n                                    <\/li>\r\n                                {% endfor %}\r\n                            <\/ul>\r\n                        {% endif %}\r\n                    <\/div>\r\n                <\/div>\r\n            {% endif %}\r\n        {% endfor %}\r\n    <\/div>\r\n{{ form.end() }}\r\n",
                "show_title": false,
                "class": "",
                "status": true,
                "weight": null,
                "element": "",
                "visibility_roles": "",
                "visibility_paths": "",
                "visibility_php": null,
                "params": "disabledCkEditor=1",
                "updated": "2021-07-22 14:42:01",
                "created": "2021-07-20 17:10:27"
            }
        ]
    }
]